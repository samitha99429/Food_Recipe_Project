{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import'../styles/register.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Register=()=>{const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[confirmPassword,setConfirmPassword]=useState('');const[phonenumber,setPhonenumber]=useState('');const[firstname,setFirstname]=useState('');const[lastname,setLastname]=useState('');const[errorMessage,setErrorMessage]=useState('');const navigate=useNavigate();const handleRegister=async e=>{e.preventDefault();if(!firstname||!lastname||!email||!phonenumber||!password||!confirmPassword){setErrorMessage('All fields are required');return;}const emailRegex=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;if(!emailRegex.test(email)){setErrorMessage('Please enter a valid email address');return;}const phoneRegex=/^\\+94[0-9]{9}$/;if(!phoneRegex.test(phonenumber)){setErrorMessage('Please enter a valid phone number starting with +94');return;}if(password!==confirmPassword){setErrorMessage('Passwords do not match');return;}setErrorMessage('');try{await axios.post('http://localhost:3001/api/auth/register',{firstname,lastname,email,phonenumber,password});navigate('/login');}catch(err){console.error(err);setErrorMessage('Registration failed, please try again');}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{class:\"container d-flex justify-content-center align-items-center min-vh-100\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"registerCard p-5 shadow\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"text-center mb-4\",children:/*#__PURE__*/_jsx(\"h2\",{class:\"logoText\",children:\"COOK\"})}),/*#__PURE__*/_jsx(\"h3\",{class:\"text-center mb-4\",children:\"Register\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleRegister,children:[/*#__PURE__*/_jsxs(\"div\",{class:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"col-6\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"firstname\",class:\"form-label\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{class:\"form-control\",type:\"text\",id:\"firstname\",value:firstname,placeholder:\"Samitha\",onChange:e=>setFirstname(e.target.value),required:true})]})}),/*#__PURE__*/_jsx(\"div\",{class:\"col-6\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"lastname\",class:\"form-label\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{class:\"form-control\",type:\"text\",id:\"lastname\",value:lastname,placeholder:\"Senevirathne\",onChange:e=>setLastname(e.target.value),required:true})]})}),/*#__PURE__*/_jsx(\"div\",{class:\"col-6\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"email\",class:\"form-label\",children:\"Email Address\"}),/*#__PURE__*/_jsx(\"input\",{class:\"form-control\",type:\"email\",id:\"email\",value:email,placeholder:\"@gmail.com\",onChange:e=>setEmail(e.target.value),required:true})]})}),/*#__PURE__*/_jsx(\"div\",{class:\"col-6\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"phonenumber\",class:\"form-label\",children:\"Phone Number\"}),/*#__PURE__*/_jsx(\"input\",{class:\"form-control\",type:\"text\",id:\"phonenumber\",value:phonenumber,placeholder:\"+94771234567\",onChange:e=>setPhonenumber(e.target.value),required:true})]})}),/*#__PURE__*/_jsx(\"div\",{class:\"col-6\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"password\",class:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",class:\"form-control\",id:\"password\",value:password,placeholder:\"********\",onChange:e=>setPassword(e.target.value),required:true})]})}),/*#__PURE__*/_jsx(\"div\",{class:\"col-6\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"confirmPassword\",class:\"form-label\",children:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",class:\"form-control\",id:\"confirmPassword\",value:confirmPassword,placeholder:\"********\",onChange:e=>setConfirmPassword(e.target.value),required:true})]})})]}),errorMessage&&/*#__PURE__*/_jsx(\"div\",{class:\"alert alert-danger\",role:\"alert\",children:errorMessage}),/*#__PURE__*/_jsx(\"div\",{class:\"d-grid\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",class:\"btn btn-primary btn-block\",children:\"SIGN UP\"})})]}),/*#__PURE__*/_jsx(\"div\",{class:\"text-center mt-4\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Already have an account? \",/*#__PURE__*/_jsx(\"a\",{href:\"/login\",children:\"Log in\"})]})})]})})});};export default Register;","map":{"version":3,"names":["React","useState","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Register","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","phonenumber","setPhonenumber","firstname","setFirstname","lastname","setLastname","errorMessage","setErrorMessage","navigate","handleRegister","e","preventDefault","emailRegex","test","phoneRegex","post","err","console","error","children","class","onSubmit","for","type","id","value","placeholder","onChange","target","required","role","href"],"sources":["/Users/samithadilshan/Documents/Company_Projects/codeSec_Final/Food_Recipe_Project/app/src/components/Register.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport '../styles/register.css';\n\nconst Register = () => {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [phonenumber, setPhonenumber] = useState('');\n  const [firstname, setFirstname] = useState('');\n  const [lastname, setLastname] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n  const navigate = useNavigate();\n\n  const handleRegister = async (e) => {\n    e.preventDefault();\n    if (!firstname || !lastname || !email || !phonenumber || !password || !confirmPassword) {\n      setErrorMessage('All fields are required');\n      return;\n    }\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!emailRegex.test(email)) {\n      setErrorMessage('Please enter a valid email address');\n      return;\n    }\n    const phoneRegex = /^\\+94[0-9]{9}$/;\n    if (!phoneRegex.test(phonenumber)) {\n      setErrorMessage('Please enter a valid phone number starting with +94');\n      return;\n    }\n    if (password !== confirmPassword) {\n      setErrorMessage('Passwords do not match');\n      return;\n    }\n    setErrorMessage('');\n\n    try {\n      await axios.post('http://localhost:3001/api/auth/register', { firstname, lastname, email, phonenumber, password });\n      navigate('/login');\n    } catch (err) {\n      console.error(err);\n      setErrorMessage('Registration failed, please try again');\n    }\n  };\n\n  return (\n    <>\n      <div class=\"container d-flex justify-content-center align-items-center min-vh-100\">\n        <div class=\"registerCard p-5 shadow\">\n          <div class=\"text-center mb-4\">\n            <h2 class=\"logoText\">COOK</h2>\n          </div>\n          <h3 class=\"text-center mb-4\">Register</h3>\n          <form onSubmit={handleRegister}>\n            <div class=\"row\">\n              <div class=\"col-6\">\n                <div class=\"mb-3\">\n                  <label for=\"firstname\" class=\"form-label\">First Name</label>\n                  <input\n                    class=\"form-control\"\n                    type=\"text\"\n                    id=\"firstname\"\n                    value={firstname}\n                    placeholder=\"Samitha\"\n                    onChange={(e) => setFirstname(e.target.value)}\n                    required\n                  />\n                </div>\n              </div>\n              <div class=\"col-6\">\n                <div class=\"mb-3\">\n                  <label for=\"lastname\" class=\"form-label\">Last Name</label>\n                  <input\n                    class=\"form-control\"\n                    type=\"text\"\n                    id=\"lastname\"\n                    value={lastname}\n                    placeholder=\"Senevirathne\"\n                    onChange={(e) => setLastname(e.target.value)}\n                    required\n                  />\n                </div>\n              </div>\n              <div class=\"col-6\">\n                <div class=\"mb-3\">\n                  <label for=\"email\" class=\"form-label\">Email Address</label>\n                  <input\n                    class=\"form-control\"\n                    type=\"email\"\n                    id=\"email\"\n                    value={email}\n                    placeholder=\"@gmail.com\"\n                    onChange={(e) => setEmail(e.target.value)}\n                    required\n                  />\n                </div>\n              </div>\n              <div class=\"col-6\">\n                <div class=\"mb-3\">\n                  <label for=\"phonenumber\" class=\"form-label\">Phone Number</label>\n                  <input\n                    class=\"form-control\"\n                    type=\"text\"\n                    id=\"phonenumber\"\n                    value={phonenumber}\n                    placeholder=\"+94771234567\"\n                    onChange={(e) => setPhonenumber(e.target.value)}\n                    required\n                  />\n                </div>\n              </div>\n              <div class=\"col-6\">\n                <div class=\"mb-3\">\n                  <label for=\"password\" class=\"form-label\">Password</label>\n                  <input\n                    type=\"password\"\n                    class=\"form-control\"\n                    id=\"password\"\n                    value={password}\n                    placeholder=\"********\"\n                    onChange={(e) => setPassword(e.target.value)}\n                    required\n                  />\n                </div>\n              </div>\n              <div class=\"col-6\">\n                <div class=\"mb-3\">\n                  <label for=\"confirmPassword\" class=\"form-label\">Confirm Password</label>\n                  <input\n                    type=\"password\"\n                    class=\"form-control\"\n                    id=\"confirmPassword\"\n                    value={confirmPassword}\n                    placeholder=\"********\"\n                    onChange={(e) => setConfirmPassword(e.target.value)}\n                    required\n                  />\n                </div>\n              </div>\n            </div>\n\n            {errorMessage && (\n              <div class=\"alert alert-danger\" role=\"alert\">\n                {errorMessage}\n              </div>\n            )}\n\n            <div class=\"d-grid\">\n              <button type=\"submit\" class=\"btn btn-primary btn-block\">SIGN UP</button>\n            </div>\n          </form>\n          <div class=\"text-center mt-4\">\n            <p>Already have an account? <a href=\"/login\">Log in</a></p>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Register;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}